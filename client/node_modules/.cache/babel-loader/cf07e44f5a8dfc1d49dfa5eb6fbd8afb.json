{"ast":null,"code":"var _jsxFileName = \"/Users/Kim/Desktop/todolist5/client/src/components/todo/topbar/register.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Joi from 'joi-browser';\nimport axios from 'axios';\n\nclass Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n    this.schema = {\n      username: Joi.string().min(3).max(45),\n      email: Joi.string().min(3).max(100),\n      password: Joi.string().min(3).max(50)\n    };\n\n    this.submit = async () => {\n      const username = document.getElementById('registerUsername').value;\n      const password = document.getElementById('registerPassword').value;\n      const email = document.getElementById('registerEmail').value;\n      const user = {\n        username,\n        password,\n        email\n      };\n      const result = Joi.validate(user, this.schema);\n\n      if (result.error) {\n        console.log('error', result.error.message);\n        return;\n      }\n\n      try {\n        const response = await axios.post('/user/register', user);\n        console.log('user registering process', response.headers['x-auth-token']);\n        localStorage.setItem('token', response.headers['x-auth-token']);\n        window.location = '/';\n      } catch (ex) {\n        if (ex.response && ex.response.status === 400) {// let errors = { ...this.state.errors };\n          // errors.username = ex.response.data;\n          // this.setState({errors});\n        }\n\n        console.log('ex', ex.message);\n      }\n    };\n\n    this.styles = {\n      close: {\n        position: 'absolute',\n        top: 13,\n        right: 20,\n        cursor: 'pointer',\n        color: 'black',\n        padding: '1px 7px',\n        fontSize: 14,\n        borderLeft: '1px solid black',\n        borderRight: '1px solid black',\n        borderRadius: 3\n      },\n      forgot: {\n        textAlign: 'center',\n        marginBottom: 10,\n        marginTop: -10\n      },\n      container: {\n        position: 'absolute',\n        top: 50,\n        right: 50,\n        display: 'block',\n        width: 350,\n        paddingBottom: 20,\n        color: 'black',\n        backgroundColor: 'white',\n        border: '1px solid black',\n        zIndex: 100\n      },\n      header: {\n        fontSize: 20,\n        padding: '10px 0px',\n        textAlign: 'center'\n      },\n      inputBox: {\n        width: '80%',\n        marginLeft: \"10%\",\n        border: '1px solid black',\n        textAlign: 'center',\n        marginBottom: 15,\n        borderRadius: 3,\n        color: 'black'\n      },\n      submit: {\n        display: 'block',\n        width: '60%',\n        margin: '0px auto',\n        textAlign: 'center',\n        padding: '2px 10px',\n        border: '1px solid black',\n        cursor: 'pointer',\n        tabIndex: '1'\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: this.styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: this.styles.header,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Register\"), React.createElement(Link, {\n      to: \"./\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: this.styles.close,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"X\")), React.createElement(\"input\", {\n      type: \"text\",\n      style: this.styles.inputBox,\n      placeholder: \"Username\",\n      id: \"registerUsername\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      style: this.styles.inputBox,\n      placeholder: \"Email\",\n      id: \"registerEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      style: this.styles.inputBox,\n      placeholder: \"password\",\n      id: \"registerPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: this.styles.forgot,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Password need to be at least 6 characters long\"), React.createElement(\"button\", {\n      style: this.styles.submit,\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"register\"));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/Kim/Desktop/todolist5/client/src/components/todo/topbar/register.jsx"],"names":["React","Component","Link","Joi","axios","Register","state","schema","username","string","min","max","email","password","submit","document","getElementById","value","user","result","validate","error","console","log","message","response","post","headers","localStorage","setItem","window","location","ex","status","styles","close","position","top","right","cursor","color","padding","fontSize","borderLeft","borderRight","borderRadius","forgot","textAlign","marginBottom","marginTop","container","display","width","paddingBottom","backgroundColor","border","zIndex","header","inputBox","marginLeft","margin","tabIndex","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Joi from 'joi-browser';\nimport axios from 'axios';\n\nclass Register extends Component {\n  state = {  }\n\n  schema = {\n    username: Joi.string().min(3).max(45),\n    email: Joi.string().min(3).max(100),\n    password: Joi.string().min(3).max(50),\n  }\n\n  submit = async ()=> {\n    const username = document.getElementById('registerUsername').value;\n    const password = document.getElementById('registerPassword').value;\n    const email    = document.getElementById('registerEmail').value;\n    const user = { username, password, email };\n\n    const result = Joi.validate( user, this.schema);\n    if( result.error){\n      console.log('error', result.error.message);\n      return;\n    }\n\n    try{\n      const response = await axios.post('/user/register', user);\n      console.log('user registering process', response.headers['x-auth-token']);\n      localStorage.setItem('token', response.headers['x-auth-token']);\n      window.location = '/';\n    }catch(ex){\n      if( ex.response && ex.response.status === 400 ){\n        // let errors = { ...this.state.errors };\n        // errors.username = ex.response.data;\n        // this.setState({errors});\n      }\n      console.log('ex', ex.message);\n    }\n  }\n\n  render() { \n    return (\n      <div style={this.styles.container}>\n        <h3 style={this.styles.header}>Register</h3>\n        <Link to='./'><div style={this.styles.close}>X</div></Link>\n        <input type=\"text\" style={this.styles.inputBox} placeholder=\"Username\" id='registerUsername' />\n        <input type=\"text\" style={this.styles.inputBox} placeholder=\"Email\" id='registerEmail' />\n        <input type=\"password\" style={this.styles.inputBox} placeholder=\"password\" id='registerPassword' />\n        <div style={this.styles.forgot}>Password need to be at least 6 characters long</div>\n        <button style={this.styles.submit} onClick={ this.submit }>register</button>\n      </div>\n    );\n  }\n\n  styles = {\n    close: {\n      position: 'absolute',\n      top: 13,\n      right: 20,\n      cursor: 'pointer',\n      color: 'black',\n      padding: '1px 7px',\n      fontSize: 14,\n      borderLeft: '1px solid black',\n      borderRight: '1px solid black',\n      borderRadius: 3,\n    },\n\n    forgot: {\n      textAlign: 'center',\n      marginBottom: 10,\n      marginTop: -10,\n    },\n\n    container: {\n      position: 'absolute',\n      top: 50,\n      right: 50,\n      display: 'block',\n      width: 350,\n      paddingBottom: 20,\n      color: 'black',\n      backgroundColor: 'white',\n      border: '1px solid black',\n      zIndex: 100,\n    },\n\n    header: {\n      fontSize: 20,\n      padding: '10px 0px',\n      textAlign: 'center',\n    },\n\n    inputBox: {\n      width: '80%',\n      marginLeft: \"10%\",\n      border: '1px solid black',\n      textAlign: 'center',\n      marginBottom: 15,\n      borderRadius: 3,\n      color: 'black',\n    },\n\n    submit: {\n      display: 'block',\n      width: '60%',\n      margin: '0px auto',\n      textAlign: 'center',\n      padding: '2px 10px',\n      border: '1px solid black',\n      cursor: 'pointer',\n      tabIndex: '1',\n    }\n\n  }\n}\n \nexport default Register;"]},"metadata":{},"sourceType":"module"}