{"ast":null,"code":"var _jsxFileName = \"/Users/Kim/Desktop/todolist5/client/src/components/todo/topbar/login.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Joi from 'joi-browser';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n    this.schema = {\n      username: Joi.string().min(3),\n      password: Joi.string().min(3)\n    };\n\n    this.submit = async () => {\n      const username = document.getElementById('submitUsername').value;\n      const password = document.getElementById('submitPassword').value;\n      const user = {\n        username: username,\n        password: password\n      };\n      const result = Joi.validate(user, this.schema);\n\n      if (result.error) {\n        console.log('error');\n        return;\n      }\n\n      try {\n        console.log('user', user);\n        const response = await axios.post('/auth', user);\n        console.log('response', response.headers['x-auth-token']);\n        localStorage.setItem('token', response.headers['x-auth-token']);\n        window.location = '/';\n      } catch (ex) {\n        console.log('error loggin in', ex.message);\n      }\n    };\n\n    this.styles = {\n      close: {\n        position: 'absolute',\n        top: 10,\n        right: 20,\n        color: 'black',\n        cursor: 'pointer'\n      },\n      forgot: {\n        textAlign: 'center',\n        marginBottom: 10,\n        marginTop: -10\n      },\n      container: {\n        position: 'absolute',\n        top: 50,\n        right: 115,\n        display: 'block',\n        width: 350,\n        paddingBottom: 20,\n        color: 'black',\n        backgroundColor: 'white',\n        border: '1px solid black',\n        zIndex: 100\n      },\n      header: {\n        fontSize: 20,\n        padding: '10px 0px',\n        textAlign: 'center'\n      },\n      inputBox: {\n        width: '80%',\n        marginLeft: \"10%\",\n        border: '1px solid black',\n        textAlign: 'center',\n        marginBottom: 15,\n        borderRadius: 3,\n        color: 'black'\n      },\n      login: {\n        display: 'block',\n        width: '60%',\n        margin: '0px auto',\n        textAlign: 'center',\n        padding: '2px 10px',\n        border: '1px solid black',\n        cursor: 'pointer',\n        tabIndex: '1'\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: this.styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: this.styles.header,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(Link, {\n      to: \"./\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: this.styles.close,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"X\")), React.createElement(\"input\", {\n      type: \"text\",\n      style: this.styles.inputBox,\n      placeholder: \"username\",\n      id: \"submitUsername\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      style: this.styles.inputBox,\n      placeholder: \"password\",\n      id: \"submitPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: this.styles.forgot,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Forgot your username or password?\"), React.createElement(\"button\", {\n      style: this.styles.login,\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Login\"));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/Kim/Desktop/todolist5/client/src/components/todo/topbar/login.jsx"],"names":["React","Component","Link","axios","Joi","Login","state","schema","username","string","min","password","submit","document","getElementById","value","user","result","validate","error","console","log","response","post","headers","localStorage","setItem","window","location","ex","message","styles","close","position","top","right","color","cursor","forgot","textAlign","marginBottom","marginTop","container","display","width","paddingBottom","backgroundColor","border","zIndex","header","fontSize","padding","inputBox","marginLeft","borderRadius","login","margin","tabIndex","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Joi from 'joi-browser';\n\nclass Login extends Component {\n  state = {  }\n\n  schema = {\n    username: Joi.string().min(3),\n    password: Joi.string().min(3),\n  }\n\n  submit = async ()=> {\n    const username = document.getElementById('submitUsername').value;\n    const password = document.getElementById('submitPassword').value;\n    const user = { username: username, password: password }\n    const result = Joi.validate(user, this.schema);\n\n    if( result.error){\n      console.log('error');\n      return;\n    }\n\n    try{\n      console.log('user', user);\n      const response = await axios.post('/auth', user);\n      console.log('response', response.headers['x-auth-token']);\n      localStorage.setItem('token', response.headers['x-auth-token']);\n      window.location = '/';\n    }catch(ex){\n      console.log('error loggin in', ex.message);\n    }\n  }\n\n  render() { \n    return (\n      <div style={this.styles.container}>\n        <h3 style={this.styles.header}>Sign in</h3>\n        <Link to='./'><div style={this.styles.close}>X</div></Link>\n\n        <input type=\"text\" style={this.styles.inputBox} placeholder=\"username\" id='submitUsername' />\n        <input type=\"password\" style={this.styles.inputBox} placeholder=\"password\" id='submitPassword' />\n\n        <div style={this.styles.forgot}>Forgot your username or password?</div>\n        <button style={this.styles.login} onClick={ this.submit }>Login</button>\n      </div>\n    );\n  }\n\n\n  styles = {\n    close: {\n      position: 'absolute',\n      top: 10,\n      right: 20,\n      color: 'black',\n      cursor: 'pointer',\n    },\n\n    forgot: {\n      textAlign: 'center',\n      marginBottom: 10,\n      marginTop: -10,\n    },\n\n    container: {\n      position: 'absolute',\n      top: 50,\n      right: 115,\n      display: 'block',\n      width: 350,\n      paddingBottom: 20,\n      color: 'black',\n      backgroundColor: 'white',\n      border: '1px solid black',\n      zIndex: 100,\n    },\n\n    header: {\n      fontSize: 20,\n      padding: '10px 0px',\n      textAlign: 'center',\n    },\n\n    inputBox: {\n      width: '80%',\n      marginLeft: \"10%\",\n      border: '1px solid black',\n      textAlign: 'center',\n      marginBottom: 15,\n      borderRadius: 3,\n      color: 'black',\n    },\n\n    login: {\n      display: 'block',\n      width: '60%',\n      margin: '0px auto',\n      textAlign: 'center',\n      padding: '2px 10px',\n      border: '1px solid black',\n      cursor: 'pointer',\n      tabIndex: '1',\n    }\n\n  }\n}\n \nexport default Login;"]},"metadata":{},"sourceType":"module"}